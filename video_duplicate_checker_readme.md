# 视频文件重复检测脚本使用说明

## 功能简介

这个脚本可以帮你：
1. 扫描指定目录下的所有视频文件
2. 通过MD5值检测完全相同的重复文件
3. 通过文件名模式检测相似的重复文件（特别是中文+数字结构）
4. 生成详细的对比报告
5. 提供交互式删除功能，保留创建时间最早的文件

## 使用方法

### 运行脚本
```bash
python video_duplicate_checker.py
```

### 操作流程
1. 输入要扫描的目录路径
2. 脚本会自动扫描并分析视频文件
3. 显示检测报告
4. 询问是否进行交互式删除

### 支持的视频格式
- .mp4, .avi, .mkv, .mov, .wmv, .flv, .webm, .m4v, .mpg, .mpeg

## 检测类型

### 1. MD5重复检测
- 检测文件内容完全相同的重复文件
- 100%准确，安全删除

### 2. 文件名相似检测
- 检测中文+数字结构的文件名（如：测试视频1.mp4, 测试视频2.mp4）
- 使用字符串相似度算法检测其他相似文件名
- 需要用户确认是否删除

## 交互式删除选项

### MD5重复文件
- `y/yes/是`: 删除重复文件，保留最早的
- `n/no/否`: 不删除
- `s/skip/跳过`: 跳过当前组

### 文件名相似文件
- `y/yes/是`: 删除相似文件，保留最早的
- `n/no/否`: 不删除
- `s/skip/跳过`: 跳过当前组  
- `v/view/查看`: 查看详细文件路径

## 输出文件

### 检测报告
- JSON格式报告文件：`video_duplicate_report_YYYYMMDD_HHMMSS.json`
- 包含详细的重复文件信息和统计数据

### 删除日志
- 文本格式日志文件：`deleted_files_log_YYYYMMDD_HHMMSS.txt`
- 记录所有删除的文件路径和统计信息

## 安全性

- 自动保留创建时间最早的文件
- 提供详细的删除前确认
- 生成完整的删除日志
- 支持跳过不确定的文件组

## 注意事项

1. 删除操作不可恢复，建议先备份重要文件
2. 文件名相似不代表内容相同，需要仔细确认
3. 脚本会显示文件的MD5值前8位，可用于比较
4. 建议在测试目录先试用，熟悉后再在重要目录使用

## 示例输出

```
视频文件重复检测报告
================================================================================
扫描时间: 2024-01-01 12:00:00
总文件数: 15
MD5重复组数: 2
文件名相似组数: 3
重复文件数: 5
浪费空间: 1024.50 MB

--------------------------------------------------
MD5完全重复文件:

组 1: 3 个文件 (MD5: a1b2c3d4...)
  - 测试视频.mp4 (1048576 bytes, 2024-01-01 10:00:00) [最早]
  - 测试视频_副本.mp4 (1048576 bytes, 2024-01-01 11:00:00)
  - 测试视频_copy.mp4 (1048576 bytes, 2024-01-01 12:00:00)
```