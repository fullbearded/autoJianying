# åŠŸèƒ½ç‰¹æ€§è¯´æ˜

## ğŸ¯ æ— é™åˆ¶ç‰ˆæœ¬æ›´æ–°

### ä¸»è¦æ”¹è¿›
- âœ… **ç§»é™¤è¯•ç”¨ç‰ˆé™åˆ¶**: ä¸å†é™åˆ¶æœ€å¤š3ä¸ªå­æ–‡ä»¶å¤¹
- âœ… **æ”¯æŒä»»æ„æ•°é‡partæ–‡ä»¶å¤¹**: part1, part2, part3, part4, part5...
- âœ… **æ™ºèƒ½æ–‡ä»¶å¤¹è¯†åˆ«**: è‡ªåŠ¨å‘ç°å¹¶å¤„ç†é¢å¤–çš„partæ–‡ä»¶å¤¹
- âœ… **åŠ¨æ€è½¨é“åˆ›å»º**: æ ¹æ®å®é™…partæ•°é‡åˆ›å»ºç›¸åº”çš„è§†é¢‘è½¨é“

### æŠ€æœ¯å®ç°

#### 1. æ–‡ä»¶å¤¹éªŒè¯æ”¹è¿›
**åŸç‰ˆæœ¬**:
```python
# é™åˆ¶æœ€å¤š3ä¸ªå­æ–‡ä»¶å¤¹
if len(subfolders) > 3:
    return False, "è¯•ç”¨ç‰ˆæœ€å¤šåªèƒ½åŒ…å«3ä¸ªå­æ–‡ä»¶å¤¹..."
```

**æ— é™åˆ¶ç‰ˆæœ¬**:
```python
# è‡ªåŠ¨è¯†åˆ«æ‰€æœ‰partæ–‡ä»¶å¤¹
extra_parts = [f for f in subfolders if f.startswith('part') and f not in required_folders]
if extra_parts:
    print(f"ğŸ“ å‘ç°é¢å¤–çš„partæ–‡ä»¶å¤¹: {', '.join(extra_parts)}")
```

#### 2. åŠ¨æ€ç´ æè·å–
**æ”¹è¿›å‰**: å›ºå®šå¤„ç† part1, part2, part3
**æ”¹è¿›å**: åŠ¨æ€è·å–æ‰€æœ‰ä»¥'part'å¼€å¤´çš„æ–‡ä»¶å¤¹
```python
part_folders = [f for f in subfolders if f.startswith('part')]
for folder in sorted(part_folders):  # æŒ‰åç§°æ’åºç¡®ä¿ä¸€è‡´æ€§
    materials[folder] = sorted([f for f in files if f.lower().endswith('.mp4')])
```

#### 3. çµæ´»çš„è‰ç¨¿ç”Ÿæˆ
```python
# è·å–æ‰€æœ‰partæ–‡ä»¶å¤¹å¹¶æ’åº
part_folders = [key for key in combination.keys() if key.startswith('part')]
part_folders.sort()  # ç¡®ä¿æŒ‰part1, part2, part3...çš„é¡ºåº

for part in part_folders:
    # åŠ¨æ€åˆ›å»ºè§†é¢‘ç‰‡æ®µ
    video_segment = draft.VideoSegment(...)
    script.add_segment(video_segment, "ä¸»è§†é¢‘")
```

### ä½¿ç”¨ç¤ºä¾‹

#### æ ‡å‡†é…ç½®ï¼ˆ3ä¸ªpartï¼‰
```
materials/
â”œâ”€â”€ background/
â”œâ”€â”€ part1/
â”œâ”€â”€ part2/
â””â”€â”€ part3/
```

#### æ‰©å±•é…ç½®ï¼ˆ5ä¸ªpartï¼‰
```
materials/
â”œâ”€â”€ background/
â”œâ”€â”€ part1/
â”œâ”€â”€ part2/
â”œâ”€â”€ part3/
â”œâ”€â”€ part4/
â””â”€â”€ part5/
```

#### é«˜çº§é…ç½®ï¼ˆ10ä¸ªpartï¼‰
```
materials/
â”œâ”€â”€ background/
â”œâ”€â”€ part1/
â”œâ”€â”€ part2/
â”œâ”€â”€ ...
â””â”€â”€ part10/
```

### å…¼å®¹æ€§ä¿è¯
- âœ… å‘åå…¼å®¹åŸæœ‰3ä¸ªpartçš„é…ç½®
- âœ… è‡ªåŠ¨è¯†åˆ«å’Œå¤„ç†æ–°å¢çš„partæ–‡ä»¶å¤¹
- âœ… ä¿æŒåŸæœ‰çš„æ–‡ä»¶å‘½åå’Œç»„åˆé€»è¾‘
- âœ… ç»´æŒé¡ºåºæ¨¡å¼çš„ä¸€è‡´æ€§

### æ€§èƒ½ä¼˜åŒ–
- **æ™ºèƒ½æ’åº**: ç¡®ä¿partæ–‡ä»¶å¤¹æŒ‰æ•°å­—é¡ºåºå¤„ç†
- **å†…å­˜æ•ˆç‡**: åªåŠ è½½éœ€è¦çš„æ–‡ä»¶ä¿¡æ¯
- **é”™è¯¯å¤„ç†**: å¯¹ç¼ºå¤±æ–‡ä»¶å¤¹æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯

### æµ‹è¯•éªŒè¯
è¿è¡Œ `test_unlimited_parts.py` å¯ä»¥éªŒè¯ï¼š
- 5ä¸ªpartæ–‡ä»¶å¤¹çš„åˆ›å»ºå’Œè¯†åˆ«
- æ–‡ä»¶å¤¹éªŒè¯åŠŸèƒ½
- ææ–™æ–‡ä»¶è·å–
- ç»„åˆç”Ÿæˆé€»è¾‘
- æœ€å°æ–‡ä»¶æ•°é‡çš„è®¡ç®—

### å®é™…åº”ç”¨åœºæ™¯

#### åœºæ™¯1: çŸ­è§†é¢‘åˆ¶ä½œ
```
materials/
â”œâ”€â”€ background/     # èƒŒæ™¯å›¾ç‰‡
â”œâ”€â”€ part1/         # å¼€åœºç‰‡æ®µ
â”œâ”€â”€ part2/         # ä¸»ä½“å†…å®¹
â””â”€â”€ part3/         # ç»“å°¾ç‰‡æ®µ
```

#### åœºæ™¯2: é•¿è§†é¢‘åˆ¶ä½œ
```
materials/
â”œâ”€â”€ background/     # èƒŒæ™¯å›¾ç‰‡
â”œâ”€â”€ part1/         # ç‰‡å¤´
â”œâ”€â”€ part2/         # ç¬¬ä¸€ç« èŠ‚
â”œâ”€â”€ part3/         # ç¬¬äºŒç« èŠ‚
â”œâ”€â”€ part4/         # ç¬¬ä¸‰ç« èŠ‚
â”œâ”€â”€ part5/         # è½¬åœº
â”œâ”€â”€ part6/         # ç¬¬å››ç« èŠ‚
â””â”€â”€ part7/         # ç‰‡å°¾
```

#### åœºæ™¯3: å¤šç´ ææµ‹è¯•
```
materials/
â”œâ”€â”€ background/     # å¤šä¸ªèƒŒæ™¯é€‰æ‹©
â”œâ”€â”€ part1/         # å¤šä¸ªå¼€åœºé€‰é¡¹
â”œâ”€â”€ part2/         # å¤šä¸ªä¸»ä½“å†…å®¹
â”œâ”€â”€ part3/         # å¤šä¸ªè½¬åœºæ•ˆæœ
â”œâ”€â”€ part4/         # å¤šä¸ªç‰¹æ•ˆç‰‡æ®µ
â””â”€â”€ part5/         # å¤šä¸ªç»“å°¾é€‰é¡¹
```

### æ³¨æ„äº‹é¡¹
1. **æ–‡ä»¶å¤¹å‘½å**: å¿…é¡»ä»¥'part'å¼€å¤´ï¼Œåè·Ÿæ•°å­—ï¼ˆå¦‚part1, part2...ï¼‰
2. **æ–‡ä»¶æ ¼å¼**: partæ–‡ä»¶å¤¹åªèƒ½åŒ…å«.mp4æ–‡ä»¶ï¼Œbackgroundæ–‡ä»¶å¤¹åªèƒ½åŒ…å«.jpgæ–‡ä»¶
3. **ç”Ÿæˆæ•°é‡**: ä»ç„¶ç”±æœ€å°‘æ–‡ä»¶æ•°é‡çš„æ–‡ä»¶å¤¹å†³å®š
4. **å¤„ç†é¡ºåº**: partæ–‡ä»¶å¤¹æŒ‰åç§°å­—æ¯é¡ºåºå¤„ç†ï¼Œç¡®ä¿part1åœ¨part2ä¹‹å‰

è¿™ä¸ªæ— é™åˆ¶ç‰ˆæœ¬ä¸ºç”¨æˆ·æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ï¼Œèƒ½å¤Ÿå¤„ç†å„ç§è§„æ¨¡çš„è§†é¢‘åˆ¶ä½œéœ€æ±‚ã€‚