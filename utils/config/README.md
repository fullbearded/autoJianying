# é…ç½®æ–‡ä»¶è¯´æ˜

## ğŸ“‹ é…ç½®æ–‡ä»¶ç»“æ„

### settings.json
ä¸»é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ç³»ç»Ÿçš„æ‰€æœ‰é…ç½®é€‰é¡¹ã€‚

## ğŸ”§ é…ç½®é¡¹è¯´æ˜

### 1. è·¯å¾„é…ç½® (paths)
```json
{
  "paths": {
    "draft_folder": "å‰ªæ˜ è‰ç¨¿æ–‡ä»¶å¤¹è·¯å¾„",
    "materials_folder": "ç´ ææ–‡ä»¶å¤¹è·¯å¾„", 
    "output_folder": "è¾“å‡ºæ–‡ä»¶å¤¹è·¯å¾„ï¼ˆå¯é€‰ï¼‰"
  }
}
```

**è¯´æ˜**:
- `draft_folder`: å‰ªæ˜ è‰ç¨¿æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„
- `materials_folder`: å­˜æ”¾æ›¿æ¢ç´ æçš„æ–‡ä»¶å¤¹è·¯å¾„
- `output_folder`: å¯¼å‡ºæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„ï¼ˆé¢„ç•™ï¼‰

### 2. æ¨¡æ¿é…ç½® (template)
```json
{
  "template": {
    "name": "æ¨¡æ¿è‰ç¨¿åç§°",
    "materials": {
      "background": "èƒŒæ™¯å›¾ç‰‡æ–‡ä»¶å",
      "part1": "ç¬¬ä¸€éƒ¨åˆ†è§†é¢‘æ–‡ä»¶å",
      "part2": "ç¬¬äºŒéƒ¨åˆ†è§†é¢‘æ–‡ä»¶å",
      "part3": "ç¬¬ä¸‰éƒ¨åˆ†è§†é¢‘æ–‡ä»¶å",
      "voice": "è¯­éŸ³æ–‡ä»¶å",
      "bgm": "èƒŒæ™¯éŸ³ä¹æ–‡ä»¶å"
    }
  }
}
```

### 3. æ›¿æ¢è®¾ç½® (replacement_settings)

#### æ’­æ”¾é€Ÿåº¦è®¾ç½® (speed_mode)
- `1`: é»˜è®¤æŒ‰ç…§1å€é€Ÿæ’­æ”¾
- `2`: é»˜è®¤æŒ‰ç…§å¯¹åº”çš„æ—§ç´ æåœ¨æ—¶é—´çº¿ä¸Šçš„æ’­æ”¾å€é€Ÿ

#### é•¿åº¦å¤„ç†æ–¹å¼ (length_handle) 
- `1`: åŠ é€Ÿ/å‡é€Ÿä¿æŒæ—¶é•¿ï¼Œæ—¶é—´çº¿ä¸å˜
- `2`: è£å‰ªå°¾éƒ¨ï¼Œå‡é€Ÿè¡¥é½
- `3`: è£å‰ªå¤´éƒ¨ï¼Œå‡é€Ÿè¡¥é½  
- `4`: éšæœºè£å‰ªï¼Œå‡é€Ÿè¡¥é½
- `5`: æŒ‰åŸé€Ÿæ’­æ”¾ï¼Œæ”¹å˜æ—¶é—´çº¿

#### é€‰å–æ¨¡å¼ (selection_mode)
- `1`: é¡ºåºæ¨¡å¼ï¼ˆä¸é‡å¤ï¼‰
- `2`: éšæœºæ¨¡å¼ï¼ˆæ‰“ä¹±æ’åºï¼‰

#### æ–‡ä»¶é¡ºåº (shuffle_order)
- `false`: æŒ‰å­—æ¯é¡ºåº
- `true`: éšæœºé¡ºåº

#### åˆ é™¤åŸæ–‡ä»¶ (delete_original)
- `false`: ä¸åˆ é™¤
- `true`: åˆ é™¤

#### å‘½åæ–¹å¼ (naming_mode)
- `1`: ä½¿ç”¨è‰ç¨¿å
- `2`: ä½¿ç”¨æ–°ç´ æå

#### åª’ä½“ç±»å‹ (media_type)
- `1`: ä»…å›¾ç‰‡ (.jpg, .jpeg, .png, .bmp)
- `2`: ä»…è§†é¢‘ (.mp4, .avi, .mov, .mkv)
- `3`: æ··åˆæ¨¡å¼ï¼ˆå›¾ç‰‡+è§†é¢‘ï¼‰

### 4. é«˜çº§è®¾ç½® (advanced_settings)

```json
{
  "advanced_settings": {
    "segment_duration": {
      "value": "10s",
      "description": "æ¯ä¸ªç‰‡æ®µçš„é»˜è®¤æ—¶é•¿"
    },
    "background_duration": {
      "value": "30s", 
      "description": "èƒŒæ™¯å›¾ç‰‡çš„é»˜è®¤æ—¶é•¿"
    },
    "max_part_folders": {
      "value": 0,
      "description": "æœ€å¤§partæ–‡ä»¶å¤¹æ•°é‡é™åˆ¶ï¼Œ0è¡¨ç¤ºæ— é™åˆ¶"
    }
  }
}
```

### 5. UIè®¾ç½® (ui_settings)

```json
{
  "ui_settings": {
    "language": {
      "value": "zh-CN",
      "options": {
        "zh-CN": "ç®€ä½“ä¸­æ–‡",
        "en-US": "English"
      }
    },
    "show_progress": {
      "value": true,
      "description": "æ˜¯å¦æ˜¾ç¤ºå¤„ç†è¿›åº¦"
    }
  }
}
```

## ğŸ› ï¸ é…ç½®ç®¡ç†å·¥å…·

### config_manager.py
é…ç½®ç®¡ç†å™¨ï¼Œæä¾›é…ç½®çš„è¯»å–ã€ä¿®æ”¹å’Œä¿å­˜åŠŸèƒ½ã€‚

**ä¸»è¦åŠŸèƒ½**:
- åŠ è½½å’Œä¿å­˜é…ç½®æ–‡ä»¶
- è·å–å’Œè®¾ç½®é…ç½®å€¼
- éªŒè¯è·¯å¾„é…ç½®
- æ‰“å°é…ç½®æ‘˜è¦

### config_editor.py
äº¤äº’å¼é…ç½®ç¼–è¾‘å™¨ã€‚

**ä½¿ç”¨æ–¹æ³•**:
```bash
python config_editor.py
```

**åŠŸèƒ½èœå•**:
1. æŸ¥çœ‹å½“å‰é…ç½®
2. ç¼–è¾‘è·¯å¾„é…ç½®
3. ç¼–è¾‘æ›¿æ¢è®¾ç½®
4. ç¼–è¾‘æ¨¡æ¿é…ç½®
5. ç¼–è¾‘é«˜çº§è®¾ç½®
6. éªŒè¯é…ç½®
7. ä¿å­˜é…ç½®
8. é‡ç½®ä¸ºé»˜è®¤é…ç½®

### config_batch_replace.py
åŸºäºé…ç½®æ–‡ä»¶çš„æ‰¹é‡æ›¿æ¢ç³»ç»Ÿã€‚

**ä½¿ç”¨æ–¹æ³•**:
```bash
python config_batch_replace.py
```

## ğŸ“ é…ç½®æ–‡ä»¶ç¤ºä¾‹

### åŸºæœ¬é…ç½®ç¤ºä¾‹
```json
{
  "paths": {
    "draft_folder": "/Users/username/Movies/JianyingPro/User Data/Projects/com.lveditor.draft",
    "materials_folder": "/Users/username/Desktop/materials"
  },
  "template": {
    "name": "æˆ‘çš„æ¨¡æ¿"
  },
  "replacement_settings": {
    "media_type": {
      "value": 2,
      "description": "åª’ä½“ç±»å‹é€‰æ‹©"
    },
    "naming_mode": {
      "value": 2,
      "description": "æ–°è‰ç¨¿æ ‡é¢˜å‘½åæ–¹å¼"
    }
  }
}
```

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### 1. ä¿®æ”¹é»˜è®¤è·¯å¾„
ç¼–è¾‘ `paths` éƒ¨åˆ†çš„è·¯å¾„è®¾ç½®ï¼š
```json
{
  "paths": {
    "draft_folder": "ä½ çš„å‰ªæ˜ è‰ç¨¿æ–‡ä»¶å¤¹è·¯å¾„",
    "materials_folder": "ä½ çš„ç´ ææ–‡ä»¶å¤¹è·¯å¾„"
  }
}
```

### 2. ä¿®æ”¹é»˜è®¤è®¾ç½®
ç¼–è¾‘ `replacement_settings` ä¸­çš„ `value` å­—æ®µï¼š
```json
{
  "replacement_settings": {
    "media_type": {
      "value": 1
    }
  }
}
```

### 3. æ·»åŠ æ–°çš„æ”¯æŒæ ¼å¼
ç¼–è¾‘ `advanced_settings`ï¼š
```json
{
  "advanced_settings": {
    "supported_video_formats": {
      "value": [".mp4", ".avi", ".mov", ".mkv", ".wmv"]
    }
  }
}
```

## âš ï¸  æ³¨æ„äº‹é¡¹

1. **è·¯å¾„æ ¼å¼**: ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œåœ¨Windowsä¸Šæ³¨æ„ä½¿ç”¨æ­£æ–œæ æˆ–åŒåæ–œæ 
2. **é…ç½®å¤‡ä»½**: ä¿®æ”¹å‰å»ºè®®å¤‡ä»½åŸé…ç½®æ–‡ä»¶
3. **è¯­æ³•æ£€æŸ¥**: ç¡®ä¿JSONæ ¼å¼æ­£ç¡®ï¼Œæ³¨æ„é€—å·å’Œå¼•å·
4. **æƒé™é—®é¢˜**: ç¡®ä¿å¯¹é…ç½®æ–‡ä»¶æœ‰è¯»å†™æƒé™

## ğŸ”„ é…ç½®è¿ç§»

### å¤‡ä»½é…ç½®
```bash
cp config/settings.json config/settings_backup.json
```

### æ¢å¤é…ç½®
```bash
cp config/settings_backup.json config/settings.json
```

### é‡ç½®é…ç½®
åˆ é™¤é…ç½®æ–‡ä»¶ï¼Œç¨‹åºä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤é…ç½®ï¼š
```bash
rm config/settings.json
```